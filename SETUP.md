# ðŸš€ Quick Setup Guide

## Step 1: Firebase Configuration

1. Go to [Firebase Console](https://console.firebase.google.com/)
2. Create a new project or select an existing one
3. Enable **Authentication**:
   - Go to Authentication > Sign-in method
   - Enable **Email/Password** provider
4. Create **Firestore Database**:
   - Go to Firestore Database
   - Click "Create database"
   - Start in **test mode** (we'll update rules later)
   - Choose your location
5. Get your Firebase config:
   - Go to Project Settings (gear icon)
   - Scroll down to "Your apps"
   - Click on the web icon (`</>`) to add a web app
   - Copy the config values

## Step 2: Environment Variables

Create a `.env` file in the root directory with your Firebase config:

```env
VITE_FIREBASE_API_KEY=your_api_key_here
VITE_FIREBASE_AUTH_DOMAIN=your_project_id.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your_project_id
VITE_FIREBASE_STORAGE_BUCKET=your_project_id.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
VITE_FIREBASE_APP_ID=your_app_id
```

## Step 3: Firestore Collections

Create these collections in Firestore:

### Collection: `users`
Structure:
- `uid` (string) - Firebase Auth UID
- `name` (string)
- `email` (string)
- `role` (string) - default: "customer", use "admin" for admin users

**To create an admin user:**
1. Register a new account through the app
2. Go to Firestore Console > `users` collection
3. Find the document for your user (by email or uid)
4. Edit the document and change `role` from "customer" to "admin"
5. Admin users will now see the "Add Property" option in the sidebar

### Collection: `properties`
Structure:
- `name` (string)
- `stars` (number) - 1 to 5
- `price` (number) - price per night
- `location` (string)
- `description` (string)
- `images` (array of strings) - image URLs

Example document:
```json
{
  "name": "Taj Palace Hotel",
  "stars": 5,
  "price": 7500,
  "location": "Mumbai",
  "description": "Luxury hotel with sea view and premium amenities.",
  "images": ["https://example.com/image1.jpg"]
}
```

### Collection: `feedbacks`
Structure:
- `userId` (string) - Firebase Auth UID
- `propertyId` (string) - reference to property document ID
- `comment` (string)
- `rating` (number) - 1 to 5
- `timestamp` (timestamp) - auto-generated by serverTimestamp()

### Collection: `bookings`
Structure (for future use):
- `userId` (string)
- `propertyId` (string)
- `checkIn` (timestamp)
- `checkOut` (timestamp)
- `guests` (number)
- `status` (string)

## Step 4: Firestore Security Rules

1. Go to Firestore Database > Rules
2. Replace the default rules with the content from `firestore.rules` file:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /users/{userId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null && request.auth.uid == userId;
    }

    match /properties/{propertyId} {
      allow read: if request.auth != null;
      allow write: if false; // Set to true with admin check if needed
    }

    match /feedbacks/{feedbackId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null 
                    && request.resource.data.userId == request.auth.uid
                    && request.resource.data.rating is int
                    && request.resource.data.rating >= 1
                    && request.resource.data.rating <= 5
                    && request.resource.data.comment is string
                    && request.resource.data.comment.size() > 0;
      allow update, delete: if request.auth != null 
                            && resource.data.userId == request.auth.uid;
    }

    match /bookings/{bookingId} {
      allow read: if request.auth != null && resource.data.userId == request.auth.uid;
      allow create: if request.auth != null 
                    && request.resource.data.userId == request.auth.uid;
      allow update, delete: if request.auth != null 
                            && resource.data.userId == request.auth.uid;
    }
  }
}
```

3. Click "Publish"

## Step 5: Install and Run

```bash
# Install dependencies
npm install

# Run development server
npm run dev
```

The app will be available at `http://localhost:5173`

## Step 6: Set Up Admin User

1. Register a new user account through the app
2. Go to Firestore Console > `users` collection
3. Find the document for your user (by email or uid)
4. Edit the document and change `role` from "customer" to "admin"
5. Log out and log back in to see admin features

**Admin Features:**
- Access to "Add Property" in the sidebar
- Ability to add dummy/sample properties via button on properties list page
- Full CRUD access to properties in Firestore

## Step 7: Add Dummy Data (Optional)

**Option 1: Using the UI (Admin only)**
1. Login as an admin user
2. Go to Properties page
3. If no properties exist, click "Add Dummy Data" button
4. This will add 8 sample properties to your database

**Option 2: Manual Addition**
- Go to Firestore Console > `properties` collection
- Click "Add document" and manually enter property data

## Step 8: Test the Application

1. Register a new user account
2. Browse properties (add dummy data if needed)
3. View property details
4. Add reviews and ratings
5. Test the star rating filter (Top Rated tab)
6. Login as admin to add new properties

## ðŸŽ‰ You're All Set!

The Travelogue platform is now ready to use with:
- âœ… Sidebar navigation with gradient theme
- âœ… Admin role-based access control
- âœ… Dummy data seeding for quick testing
- âœ… Beautiful gradient theme matching login page
- âœ… Responsive design for mobile and desktop

